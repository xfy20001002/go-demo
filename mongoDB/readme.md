# mongodb

## demo1
```
不将Age存入数据库
Age  int    `bson:"-"`
```
最简单的CRUD示例
```
func (coll *Collection) InsertOne(ctx context.Context, document interface{},
	opts ...*options.InsertOneOptions) (*InsertOneResult, error)

func (coll *Collection) InsertMany(ctx context.Context, documents []interface{},
	opts ...*options.InsertManyOptions) (*InsertManyResult, error)

func (coll *Collection) FindOne(ctx context.Context, filter interface{},
	opts ...*options.FindOneOptions) *SingleResult

func (coll *Collection) Find(ctx context.Context, filter interface{},
	opts ...*options.FindOptions) (*Cursor, error)

func (coll *Collection) DeleteOne(ctx context.Context, filter interface{},
	opts ...*options.DeleteOptions) (*DeleteResult, error)

func (coll *Collection) DeleteMany(ctx context.Context, filter interface{},
	opts ...*options.DeleteOptions) (*DeleteResult, error)
    
func (coll *Collection) UpdateOne(ctx context.Context, filter interface{}, update interface{},
	opts ...*options.UpdateOptions) (*UpdateResult, error)
```

```
type Cursor struct {
	// Current contains the BSON bytes of the current change document. This property is only valid until the next call
	// to Next or TryNext. If continued access is required, a copy must be made.
	Current bson.Raw
	// contains filtered or unexported fields
}
func (c *Cursor) Decode(val interface{}) error
Decode will unmarshal the current document into val and return any errors from the unmarshalling process without any modification. 
func (c *Cursor) Next(ctx context.Context) bool
Next gets the next document for this cursor. It returns true if there were no errors and the cursor has not been exhausted.


type InsertManyResult struct {
	// The _id values of the inserted documents. Values generated by the driver will be of type primitive.ObjectID.
	InsertedIDs []interface{}
}
type InsertOneResult struct {
	// The _id of the inserted document. A value generated by the driver will be of type primitive.ObjectID.
	InsertedID interface{}
}


type SingleResult struct {
	// contains filtered or unexported fields
}
func (sr *SingleResult) Decode(v interface{}) error
Decode will unmarshal the document represented by this SingleResult into v.
```